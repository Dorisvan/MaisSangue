{% extends "index.html" %}
{% block tudo %}

<br>
<br>
<br>

<section id="appointment" class="appointment section-bg" style="position: relative;">
      <div class="container">
        <div class="div_externa_form_solicitacao container">
          <div class="section-title container">
            <h2>Atualizar solicitação</h2>
            <br>
            {% with messages = get_flashed_messages(with_categories=true) %}
              {% if messages %}
                <ul id="messages" class="list-unstyled">
                {% for category, message in messages %}
                  <li class="alert alert-{{ category }}">{{ message }}</li>
                {% endfor %}
                </ul>
              {% endif %}
            {% endwith %}
          </div>

          <form action="{{ url_for('atualizar_solicitacao', codigo=solicitacao[0]) }}" method="POST" >
            <div class="row">
              <div class="col-md-4 form-group container">
                <label for="data"></label>
                <input type="date" name="data" value="{{ solicitacao[1] }}" class="form-control" id="data" placeholder="Data atual" required>
                <div class="validate"></div>
              </div>
              <div class="col-md-4 form-group mt-3 mt-md-0 container">
                <label for="urgencia"></label>
                <select name="urgencia" id="urgencia" class="form-select">
                  <option value="Extrema" {% if solicitacao[2] == 'Extrema' %}{{ "selected" }}{% endif %}>Extrema</option>
                  <option value="Alta" {% if solicitacao[2] == 'Alta' %}{{ "selected" }}{% endif %}>Alta</option>
                  <option value="Média" {% if solicitacao[2] == 'Média' %}{{ "selected" }}{% endif %}>Média</option>
                  <option value="Baixa" {% if solicitacao[2] == 'Baixa' %}{{ "selected" }}{% endif %}>Baixa</option>
                </select>
              </div>
            </div>

            <div class="row">
              <div class="col-md-4 form-group mt-3 container">
                <label for="local_internacao"></label>
                <input type="text" value="{{ solicitacao[3] }}"class="form-control" name="local_internacao" id="local_internacao" placeholder="Local da internação">
                <div class="validate"></div>
              </div>
              <div class="col-md-4 form-group mt-3 container">
                <label for="situacao"></label>
                <input type="text" value="{{ solicitacao[4] }}" class="form-control" name="situacao" id="situacao" placeholder="CPF do usuário">
                <div class="validate"></div>
              </div>
            </div>

            <div class="row">
              <div class="col-md-4 form-group mt-3 container">
                <label for="usuario_codigo"></label>
                <input type="text" value="{{ solicitacao[5] }}" class="form-control" name="usuario_codigo" id="usuario_codigo" placeholder="Código do usuário">
                <div class="validate"></div>
              </div>
            </div>

            <br>
            <br>

            <div class="text-center"><button class="botao-cadastro" type="submit">Atualizar</button></div>
          </form>

        </div>
      </div>
    <div class="section-title"></div>
</section><!-- End Appointment Section -->

{% endblock tudo %}